<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="说明：UnblockNeteaseMusic是一款可以给你解除网易云音乐海外限制并解锁变灰(无版权)歌曲的工具，让你可以听取客户端任何的歌曲，而不受到限制，此前该类似工具挺多的，不过貌似都不维护或者失效了，这里提到的项目更新很频繁，支持Windows、MacOS、安卓、IOS等设备，所以就分享一下使用方法。
截图


特性

使用网易云旧链/QQ/虾米/百度/酷狗/酷我/咕咪/JOOX音源替换变灰歌曲链接(默认仅启用前四)。
为请求增加X-Real-IP参数解锁海外限制，支持指定网易云服务器IP，支持设置上游HTTP/HTTPS代理。
完整的流量代理功能(HTTP/HTTPS)，可直接作为系统代理(同时支持PAC)。

安装
Github地址：https://github.com/nondanee/UnblockNeteaseMusic
1、安装Nodejs
#Debian/Ubuntu系统
curl -sL https://deb.nodesource.com/setup_10.x | bash -
apt install -y nodejs git 

#CentOS系统
curl -sL https://rpm.nodesource.com/setup_10.x | bash -
yum install nodejs git -y
2、运行UnblockNeteaseMusic
git clone https://github.com/nondanee/UnblockNeteaseMusic.git
cd UnblockNeteaseMusic
node app.js
运行端口默认为8080，需要想修改可以编辑app.js文件的config.port对应的数值，或者使用命令：
#这里默认修改4567，自行调整
node app.js -p 4567
这里还可以加一个-s参数限制代理范围防止被滥用，也就是仅放行网易云音乐所属域名的请求，不过使用起来的话就受限了，仅支持PAC或Hosts。
node app.js -s
3、开机自启
这里使用Systemd进程守护，只适用于CentOS 7、Debian 8+、Ubuntu 16+等。
#修改下ExecStartPre源码路径即可，然后一起复制到SSH运行
cat > /etc/systemd/system/UnblockNeteaseMusic.service <<EOF
[Unit]
Description=UnblockNeteaseMusic
After=network.target
Wants=network.target

[Service]
Type=simple
PIDFile=/var/run/UnblockNeteaseMusic.pid
WorkingDirectory=/root/UnblockNeteaseMusic
ExecStart=$(command -v node) app.js -p 4567
RestartPreventExitStatus=23
Restart=always

[Install]
WantedBy=multi-user.target
EOF
启动并开机自启："><title>使用UnblockNeteaseMusic播放网易云音乐客户端无版权歌曲
</title><link rel="shortcut icon" type=image/x-icon href=/img/icon.png><link rel=stylesheet href=/css/main.df4fc34cbb4964ffc7f5be01c4fd6b3531b8bcd68a132d90d82274e9bebb9847136b10f2dc3bd59d06d68d40882449f7309d5c7a6bc6bb9864605167f3269300.css integrity="sha512-30/DTLtJZP/H9b4BxP1rNTG4vNaKEy2Q2CJ06b67mEcTaxDy3DvVnQbWjUCIJEn3MJ1cemvGu5hkYFFn8yaTAA=="></head><body a=light><main class=page-content aria-label=Content><div class=w><a href=/>..</a><article><p class=post-meta><time datetime="2018-02-18 03:56:00 +0800 +0800">2018-02-18</time></p><h1>使用UnblockNeteaseMusic播放网易云音乐客户端无版权歌曲</h1><p class=post-meta>阅读 </span></span>|<span class=post-date>共272字</span></p><p class=post-meta>预计阅读约: 2 分钟</p><p><strong>说明：</strong><code>UnblockNeteaseMusic</code>是一款可以给你解除网易云音乐海外限制并解锁变灰(无版权)歌曲的工具，让你可以听取客户端任何的歌曲，而不受到限制，此前该类似工具挺多的，不过貌似都不维护或者失效了，这里提到的项目更新很频繁，支持<code>Windows</code>、<code>MacOS</code>、安卓、<code>IOS</code>等设备，所以就分享一下使用方法。</p><h2 id=截图>截图</h2><p><img src=https://s2.loli.net/2023/03/10/qhxZAHFeOT7uLf9.png alt></p><p><img src=https://s2.loli.net/2023/03/10/YXCdq6igRQnsrU7.png alt></p><h2 id=特性>特性</h2><ul><li>使用网易云旧链/<code>QQ</code>/虾米/百度/酷狗/酷我/咕咪/<code>JOOX</code>音源替换变灰歌曲链接(默认仅启用前四)。</li><li>为请求增加<code>X-Real-IP</code>参数解锁海外限制，支持指定网易云服务器<code>IP</code>，支持设置上游<code>HTTP</code>/<code>HTTPS</code>代理。</li><li>完整的流量代理功能(<code>HTTP</code>/<code>HTTPS</code>)，可直接作为系统代理(同时支持<code>PAC</code>)。</li></ul><h2 id=安装>安装</h2><p><strong>Github地址：</strong><a href=https://github.com/nondanee/UnblockNeteaseMusic>https://github.com/nondanee/UnblockNeteaseMusic</a></p><p><strong>1、安装Nodejs</strong></p><pre tabindex=0><code>#Debian/Ubuntu系统
curl -sL https://deb.nodesource.com/setup_10.x | bash -
apt install -y nodejs git 

#CentOS系统
curl -sL https://rpm.nodesource.com/setup_10.x | bash -
yum install nodejs git -y
</code></pre><p><strong>2、运行UnblockNeteaseMusic</strong></p><pre tabindex=0><code>git clone https://github.com/nondanee/UnblockNeteaseMusic.git
cd UnblockNeteaseMusic
node app.js
</code></pre><p>运行端口默认为<code>8080</code>，需要想修改可以编辑<code>app.js</code>文件的<code>config.port</code>对应的数值，或者使用命令：</p><pre tabindex=0><code>#这里默认修改4567，自行调整
node app.js -p 4567
</code></pre><p>这里还可以加一个<code>-s</code>参数限制代理范围防止被滥用，也就是仅放行网易云音乐所属域名的请求，不过使用起来的话就受限了，仅支持<code>PAC</code>或<code>Hosts</code>。</p><pre tabindex=0><code>node app.js -s
</code></pre><p><strong>3、开机自启</strong><br>这里使用<code>Systemd</code>进程守护，只适用于<code>CentOS 7</code>、<code>Debian 8+</code>、<code>Ubuntu 16+</code>等。</p><pre tabindex=0><code>#修改下ExecStartPre源码路径即可，然后一起复制到SSH运行
cat &gt; /etc/systemd/system/UnblockNeteaseMusic.service &lt;&lt;EOF
[Unit]
Description=UnblockNeteaseMusic
After=network.target
Wants=network.target

[Service]
Type=simple
PIDFile=/var/run/UnblockNeteaseMusic.pid
WorkingDirectory=/root/UnblockNeteaseMusic
ExecStart=$(command -v node) app.js -p 4567
RestartPreventExitStatus=23
Restart=always

[Install]
WantedBy=multi-user.target
EOF
</code></pre><p>启动并开机自启：</p><pre tabindex=0><code>systemctl start UnblockNeteaseMusic
systemctl enable UnblockNeteaseMusic
</code></pre><p>如果没有<code>Systemd</code>的，比如<code>CentOS 6</code>，<code>Debian 7</code>等，直接使用<code>rc.local</code>，使用命令：</p><pre tabindex=0><code>#路径和命令自行修改
sed -i &#39;/exit/d&#39; /etc/rc.local
echo &#34;cd /root/UnblockNeteaseMusic &amp;&amp; node app.js -p 4567&#34; &gt;&gt; /etc/rc.local
</code></pre><h2 id=docker安装>Docker安装</h2><p><strong>1、安装Docker</strong></p><pre tabindex=0><code>#CentOS 6
rpm -iUvh http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm
yum update -y
yum -y install docker-io
service docker start
chkconfig docker on

#CentOS 7、Debian、Ubuntu
curl -sSL https://get.docker.com/ | sh
systemctl start docker
systemctl enable docker
</code></pre><p><strong>2、运行镜像</strong></p><pre tabindex=0><code>docker run --restart=always --name unmusic -d -p 4567:8080 nondanee/unblockneteasemusic
</code></pre><p>运行端口<code>4567</code>，自行修改。</p><h2 id=使用>使用</h2><pre tabindex=0><code>提示：使用方法可以选择修改Hosts或者设置代理的方式，自己挑选一种比较会的吧。
</code></pre><p><strong>1、修改Hosts</strong><br>找到<code>Hosts</code>路径，大致位置：</p><pre tabindex=0><code>Windows系统：位于C:\Windows\System32\drivers\etc\hosts
Android系统：位于/system/etc/hosts
Mac系统：位于/etc/hosts
IOS系统：位于/etc/hosts
Linux系统：位于/etc/hosts
</code></pre><p>向<code>hosts</code>文件添加两条规则</p><pre tabindex=0><code>#将前面参数修改为服务器IP
&lt;Server IP&gt; music.163.com
&lt;Server IP&gt; interface.music.163.com
</code></pre><p>使用此方法必须监听<code>80</code>端口，也就是使用<code>-p 80</code>参数指定<code>80</code>端口运行。</p><p><strong>2、设置代理</strong><br>安卓系统：</p><pre tabindex=0><code>#设置方法
手机设置 &gt; WLAN &gt; 网络设置 &gt; 高级选项 &gt; 代理

一般安卓手机设置代理类型的时候分2种，手动代理和自动代理，有的手机可能只有手动代理，大致设置如下：
手动代理 &gt; 只需要填上你的服务器IP和端口就可以了。
自动代理 &gt; 填上你的PAC地址就行了，地址：http://&lt;Server Name:PORT&gt;/proxy.pac，修改为你的ip、运行端口。

如果你发现设置后不能使用或者出现其它网络问题，带了-s参数的不妨去掉后再试试。
</code></pre><p><code>Windows</code>系统：</p><pre tabindex=0><code>#设置方法
网易云客户端设置 &gt; 工具 &gt; 自定义代理 &gt; HTTP代理

这里只需要填上你的服务器ip和端口，保存即可。
</code></pre><p><code>IOS</code>系统：<br>这里很久前有人要博主详细说下<code>IOS</code>使用方法，对于不会设置的是挺复杂的，所以就截图说下，需要借助<code>Shadowrocket</code>工具。</p><pre tabindex=0><code>#设置方法
打开小火箭 &gt; 添加节点(类型选择HTTP，输入你的ip和端口，随便备注下，右上角完成即可) &gt; 编辑配置 &gt; 添加规则(类型选择USER-AGENT，选项选择网易云，用户代理输入NeteaseMusic*)，保存即可。
</code></pre><p><img src=https://s2.loli.net/2023/03/10/i9YlCZdJkM8SWar.png alt><br>像<code>macOS</code>啥的，没设备就不测试了，直接列举下作者提供方法。</p><pre tabindex=0><code>UWP    Windows设置 &gt; 网络和Internet &gt; 代理
Linux    系统设置 &gt; 网络 &gt; 网络代理
macOS    系统偏好设置 &gt; 网络 &gt; 高级 &gt; 代理
</code></pre><p>设置好了后，你会发现客户端之前因为版权问题不能听的都可以听了，然后建议搭建的时候，选择的服务器网络延迟尽量好点，不然播放会很慢。</p><h2 id=问题补充>问题补充</h2><p>1、如果设置好了后，打开客户端提示网络问题的话，稍等片刻就好了，如果过会还是不行，就检查下操作啥的，比如防火墙。</p><p>一般情况下<code>CentOS</code>防火墙还需要开启运行端口，比如博主用的<code>4567</code>，使用命令：</p><pre tabindex=0><code>#CentOS 6
iptables -I INPUT -p tcp --dport 4567 -j ACCEPT
service iptables save
service iptables restart

#CentOS 7
firewall-cmd --zone=public --add-port=4567/tcp --permanent
firewall-cmd --reload
</code></pre><p>宝塔的话可以直接面板左侧-安全-开启对应的端口即可。</p><p>2、上面只提到了安卓<code>WLAN</code>下的使用方法，这里再补充个手机数据下的使用方法，建议配合<code>Xndroid</code>工具，最新版<code>APP</code>下载地址→<a href=https://github.com/XndroidDev/Xndroid/releases>传送门</a>，大致设置如下：</p><pre tabindex=0><code>打开Xndroid &gt; 点击左侧Fqrouter &gt; 添加个人代理(只需要填服务器ip和端口即可) &gt; 代理列表配置项(将高级设置里面全部关掉) &gt; 软件右上角代理设置(只代理网易云音乐)
</code></pre><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt title=点击并拖拽以移动></p><p>设置完成后你还可以在右上角启动设置中，关掉<code>xx-net</code>和<code>fqrouter</code>里面的所有启动项，这样开启软件速度也会快很多。</p><p>最后貌似很多妹子都喜欢用网易云，小伙伴们可以去喜欢的妹子面前装个逼，自己搭建好了，然后教她们点亮下灰色无版权歌曲。</p></article></div></main></body></html>